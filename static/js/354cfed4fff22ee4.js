(function(){if(typeof window.RADAR_MONITOR!="undefined")return;var e="v1.9.4 (2021.01.18)",t="",n="",r="",i=function(s,o){var u;(function(){u=!0;try{var e=location.protocol.toLowerCase();if(e=="http:"||e=="https:")u=!1}catch(t){}})();var a=document,f=navigator,l=s.screen,c=u?"":document.domain.toLowerCase(),h=f.userAgent.toLowerCase(),p={trim:function(e){return e.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")}},d={on:function(e,t,n){e.addEventListener?e&&e.addEventListener(t,n,!1):e&&e.attachEvent("on"+t,n)},parentNode:function(e,t,n){n=n||5,t=t.toUpperCase();while(e&&n-->0){if(e.tagName===t)return e;e=e.parentNode}return null}},v={fix:function(e){if(!("target"in e)){var t=e.srcElement||e.target;t&&t.nodeType==3&&(t=t.parentNode),e.target=t}return e}},m=function(){function e(e){return e!=null&&e.constructor!=null?Object.prototype.toString.call(e).slice(8,-1):""}return{isArray:function(t){return e(t)=="Array"},isFunction:function(t){return e(t)=="Function"},isObject:function(e){return e!==null&&typeof e=="object"},isEmpty:function(e){return typeof e=="undefined"||e==null||e==""?!0:!1},mix:function(e,t,n){for(var r in t)if(n||!(e[r]||r in e))e[r]=t[r];return e},encodeURIJson:function(e){var t=[];for(var n in e){if(e[n]==null)continue;t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}return t.join("&")}}}(),g={get:function(e){try{var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=a.cookie.match(n))?unescape(t[2]):""}catch(r){return""}},set:function(e,t,n){n=n||{};var r=n.expires;typeof r=="number"&&(r=new Date,r.setTime(r.getTime()+n.expires));try{a.cookie=e+"="+escape(t)+(r?";expires="+r.toGMTString():"")+(n.path?";path="+n.path:"")+(n.domain?"; domain="+n.domain:"")}catch(i){}}},y={get:function(e){try{return JSON.parse(s.localStorage.getItem(e))}catch(t){return[]}},set:function(e,t){try{s.localStorage.setItem(e,JSON.stringify(t))}catch(n){}},remove:function(e){try{s.localStorage.removeItem(e)}catch(t){}}},b=function(){function t(t){m.isFunction(t)&&e.push(t)}function n(t){e.splice(e.indexOf(t),1)}var e=[];return{addPlugin:function(e){var r,i;if(m.isArray(e)){i=e.length;for(r=0;r<i;r++)t(e[r])}else t(e);return function(){n(e),e=null}},getExtend:function(t,n){var r,i=e.length,s=n;for(r=0;r<i;r++)try{s=m.mix(s,e[r].beforeLog(t,n))}catch(o){}return s}}}(),w={getColorDepth:function(){return l.colorDepth+"-bit"},getLanguage:function(){return(f.language||f.browserLanguage).toLowerCase()},getScreenSize:function(){return l.width+"x"+l.height},getProject:function(){return""},getReferrer:function(){var e=a.referrer||"";return e.indexOf("pass")>-1||e.indexOf("pwd")>-1?"403":e},getBrowser:function(){var e={"360se-ua":"360se","360ee":"360ee",edge:"edg",edge:"edga",edge:"edgios",TT:"tencenttraveler",Maxthon:"maxthon",GreenBrowser:"greenbrowser",Sogou:"se 2.x",TheWorld:"theworld"};for(var t in e)if(h.indexOf(e[t])>-1)return t;var n=!1;try{+external.twGetVersion(external.twGetSecurityID(s)).replace(/\./g,"")>1013&&(n=!0)}catch(r){}if(n)return"360se-noua";var i=h.match(/(msie|chrome|safari|firefox|opera|trident)/);return i=i?i[0]:"",i=="msie"?i=h.match(/msie[^;]+/)+"":i=="trident"&&h.replace(/trident\/[0-9].*rv[ :]([0-9.]+)/ig,function(e,t){i="msie "+t}),i},getReferrerKeyWord:function(){const e=a.referrer;var t={q:"",eqid:""};if(!e)return t;var n=new URL(e),r=n.search.substring(1),i=r.split("&"),s={};for(var o=0;o<i.length;o++){var u=i[o].split("=");s[u[0]]=u[1]}return e.indexOf("baidu.com")>-1?(t.q=s.wd,t.eqid=s.eqid):e.indexOf("so.com")>-1?t.q=s.q:e.indexOf("sm.cn")>-1&&(t.q=s.q),t.q||(t.q=""),t},getLocation:function(){var e="";try{e=location.href}catch(t){e=a.createElement("a"),e.href="",e=e.href}return e=/\.(s?htm|php)/.test(e)?e:e.replace(/\/$/,"")+"/",e},hash:function(e){var t=0,n=0,r=e.length-1;for(r;r>=0;r--){var i=parseInt(e.charCodeAt(r),10);t=(t<<6&268435455)+i+(i<<14),(n=t&266338304)!=0&&(t^=n>>21)}return t},guid:function(){var e=[f.appName,f.version,f.language||f.browserLanguage,f.platform,f.userAgent,l.width,"x",l.height,l.colorDepth,a.referrer].join(""),t=e.length,n=s.history.length;while(n)e+=n--^t++;return(Math.round(Math.random()*2147483647)^w.hash(e))*2147483647},getSid:function(){var e="__sid",t="__DC_sid",n=g.get(t);if(!n&&(n=g.get(e))){var r=n.split(".");r.length!==4&&(n=null)}n||(n=[w.hash(u?"":a.domain),w.guid(),+(new Date)+Math.random()].join("."));var i={expires:(w._activeTime||30)*60*1e3,path:"/"};return g.set(t,n,i),n},getGid:function(){var e="__gid",t="__DC_gid",n=g.get(t);if(!n&&(n=g.get(e))){var i=n.split(".");i.length!==5&&(n=null)}n?(n=n.split("."),n[3]=(new Date).getTime(),n[4]=(parseInt(n[4])||1)+1,n=n.join(".")):r?n=[r,1,1,(new Date).getTime(),1].join("."):n=[w.hash(u?"":a.domain),Math.floor(Math.random()*1e9),(new Date).getTime(),(new Date).getTime(),1].join(".");var s={expires:63072e6,path:"/"};return g.set(t,n,s),n},getMid:function(){try{t=external.GetMID(external.GetSID(s))}catch(e){}try{t.length!==32&&(t=s.wdextcmd.GetMid())}catch(e){}},getM2:function(){try{n=external.AppCmd(external.GetSID(s))}catch(e){}},getCount:function(){var e="monitor_count",t="__DC_monitor_count",n=g.get(t);return n||(n=g.get(e)),n=(parseInt(n)||0)+1,g.set(t,n,{expires:864e5,path:"/"}),function(){return n}}(),getFlashVer:function(){var e=-1;if(f.plugins&&f.mimeTypes.length){var t=f.plugins["Shockwave Flash"];t&&t.description&&(e=t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}else if(s.ActiveXObject&&!s.opera)try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(n){var r=n.GetVariable("$version");e=r.replace(/WIN/g,"").replace(/,/g,".")}}catch(i){}return e=parseInt(e,10),e},getContainerId:function(e){var t,n,r=100;S.areaIds&&(t=new RegExp("^("+S.areaIds.join("|")+")$","ig"));while(e){if(e.attributes&&("bk"in e.attributes||"data-bk"in e.attributes)){n=e.getAttribute("bk")||e.getAttribute("data-bk");if(n)return n="bk:"+n,n.substr(0,r);if(e.id)return n=e.getAttribute("data-desc")||e.id,n.substr(0,r)}else if(t&&e.id&&t.test(e.id))return n=e.getAttribute("data-desc")||e.id,n.substr(0,r);e=e.parentNode}return""},getText:function(e){var t="";return e.tagName.toLowerCase()=="input"?t=e.getAttribute("text")||e.getAttribute("data-text")||e.value||e.title||"":t=e.getAttribute("text")||e.getAttribute("data-text")||e.innerText||e.textContent||e.title||"",p.trim(t).substr(0,100)},getHref:function(e){try{return e.getAttribute("data-href")||e.href||""}catch(t){return""}}},E={getBase:function(){return{p:w.getProject(),u:w.getLocation(),gid:w.getGid(),sid:w.getSid(),title:document.title,mid:t,m2:n}},getTrack:function(e){var t=w.getSid()===w.getSid()?1:0,n={b:w.getBrowser(),c:w.getCount(),r:w.getReferrer(),fl:w.getFlashVer(),sd:w.getColorDepth(),sr:w.getScreenSize(),ul:w.getLanguage(),ce:t},r=w.getReferrerKeyWord();r&&(n.q=r.q,n.eqid=r.eqid);if(e){e=e.split(",");var i=[];for(var s=0,o=e.length;s<o;s++){var u=g.get(e[s]);i.push(e[s]+"="+encodeURIComponent(u))}n.uc=encodeURIComponent(i.join("&"))}return n},getClick:function(e){e=v.fix(e||event);var t=e.target,n=t.tagName,r=w.getContainerId(t);if(r=="bk:noupload")return!1;if(!t.type||t.type!="submit"&&t.type!="button"){if(n=="AREA")return{f:w.getHref(t),c:"area:"+t.parentNode.name,cId:r};var f,l;return n=="IMG"&&(f=t),t=d.parentNode(t,"A"),t?(l=w.getText(t),{f:w.getHref(t),c:l?l:f?f.src.match(/[^\/]+$/):"",cId:r}):!1}var i=d.parentNode(t,"FORM"),s={};if(i){var o=i.id||"",u=t.id;s={f:i.action,c:"form:"+(i.name||o),cId:r};if((o=="search-form"||o=="searchForm")&&(u=="searchBtn"||u=="search-btn")){var a=x("kw")||x("search-kw")||x("kw1");s.w=a?a.value:""}}else s={f:w.getHref(t),c:w.getText(t),cId:r};return s},getKeydown:function(e){e=v.fix(e||event);if(e.keyCode!=13)return!1;var t=e.target,n=t.tagName,r=w.getContainerId(t);if(n=="INPUT"){var i=d.parentNode(t,"FORM");if(i){var s=i.id||"",o=t.id,u={f:i.action,c:"form:"+(i.name||s),cId:r};if(o=="kw"||o=="search-kw"||o=="kw1")u.w=t.value;return u}}return!1},getBaseExtend:function(){return{}},getCacheLog:function(){if(!E.cache)return null;var e=[];for(var t in E.cache)e.push(E.cache[t]);return e}},S={trackUrl:null,clickUrl:null,areaIds:null,hbLogTimer:0},x=function(e){return document.getElementById(e)};return{version:e,util:w,data:E,config:S,sendLog:function(){return s.__radar_monitor_imgs={},function(e){var t="log_"+ +(new Date),n=s.__radar_monitor_imgs[t]=new Image;E.cache&&(E.cache[t]=e),n.onload=n.onerror=function(){if(s.__radar_monitor_imgs&&s.__radar_monitor_imgs[t]){s.__radar_monitor_imgs[t]=null,delete s.__radar_monitor_imgs[t];if(!E.cache||!E.cache[t])return;E.cache[t]=null,delete E.cache[t]}},n.src=e}}(),buildLog:function(){var e="";return function(t,n){if(t===!1)return;t=t||{};var r=E.getBase(),i=E.getBaseExtend(),s=m.mix(r,i,!0);t=m.mix(s,t,!0);var o=n+m.encodeURIJson(t);if(o==e)return;e=o,setTimeout(function(){e=""},100);var u=m.encodeURIJson(t);u+="&t="+ +(new Date),n=n.indexOf("?")>-1?n+"&"+u:n+"?"+u,this.sendLog(n)}}(),log:function(e,t){t=t||"click";var n=S[t+"Url"];n||console.error("Analytic Error : the "+t+"url does not exist!"),this.buildLog(b.getExtend(t,e),n)},setConf:function(e,t){var n={};return m.isObject(e)?n=e:n[e]=t,this.config=m.mix(this.config,n,!0),this},setUrl:function(e){return e&&(this.util.getLocation=function(){return e}),this},extendBase:function(e){if(e&&m.isObject(e)){var t=m.mix(this.data.getBaseExtend(),e,!0);this.data.getBaseExtend=function(){return t}}return this},setProject:function(e,t){return e&&(this.util.getProject=function(){return e}),this.extendBase(t),this},setTrackId:function(e){r=e.replace(/\./g,"")},setId:function(){var e=[],t=0,n;while(n=arguments[t++])m.isArray(n)?e=e.concat(n):e.push(n);return this.setConf("areaIds",e),this},init:function(){w.getMid(),w.getM2()},getTrack:function(e,t){var n=this.data.getTrack(e);return m.isObject(t)&&(n=m.mix(n,t,!0)),this.log(n,"track"),this},getClickHeatmap:function(e,t){if(this.heatmapTimer)return this;this.heatmapTimer=!0;var n=this,r=[];e=e||10,t=t||5;var i=0,s=function(o){clearTimeout(i);if(o||r.length>e){if(!r.length)return;n.log({pos:r.join(","),sr:w.getScreenSize()},"clickHeatMap"),r=[];return}i=setTimeout(function(){s(!0)},t*60*1e3)};return d.on(a,"mousedown",function(e){var t=e.pageX+"."+e.pageY;r.push(t),s()}),this},getClickAndKeydown:function(){var e=this;return d.on(a,"mousedown",function(t){var n=e.data.getClick(t);e.log(n,"click")}),d.on(a,"keydown",function(t){var n=e.data.getKeydown(t);e.log(n,"click")}),i.getClickAndKeydown=function(){return e},this},beginHeartBeat:function(e,t,n){var r=5,i=60,s=10,o={};o.id=e,m.isObject(t)&&(o=m.mix(o,t,!1)),n=isNaN(n)?s:n,n>i?n=i:n<r&&(n=r);var u=this,a=function(e){o.steptime=e,u.setConf("hbStarttime",Date.parse(new Date)),u.log(o,"heartbeat"),clearTimeout(S.hbLogTimer),S.hbLogTimer=setTimeout(function(){var e=(Date.parse(new Date)-S.hbStarttime)/1e3;a(e)},n*1e3)};return a(0),this},endHeartBeat:function(e,t){if(typeof S.hbStarttime!="undefined"&&S.hbStarttime!==null){var n={};n.id=e,m.isObject(t)&&(n=m.mix(n,t,!1)),clearTimeout(S.hbLogTimer);var r=(Date.parse(new Date)-S.hbStarttime)/1e3;n.steptime=r,this.log(n,"heartbeat"),this.setConf("hbStarttime",null)}return this},setActiveTime:function(e){return w._activeTime=e,this},addPlugin:function(e){return b.addPlugin(e)},beginCache:function(e){E.cache={};var t="__DC_log",n=y.get(t);if(n){var r=5,i=n.length,o=e==="all"?i:isNaN(+e)?r:+e;i=Math.max(i,o);for(var u=0;u<i;u++)this.sendLog(n[u]);y.remove(t)}return d.on(s,"unload",function(){var e=E.getCacheLog();e&&y.set(t,e)}),this}}}(window),s=location.protocol.toLowerCase()==="https:"?"https:":"http:";i.setConf({trackUrl:s+"//s.360.cn/qdas/s.htm",clickUrl:s+"//s.360.cn/qdas/c.htm",clickHeatMapUrl:s+"//s.360.cn/qdas/t.htm",wpoUrl:s+"//s.360.cn/qdas/p.htm",heartbeatUrl:s+"//s.360.cn/qdas/h.htm"}).init(),window.RADAR_MONITOR=i,typeof window.monitor=="undefined"&&(window.monitor=i)})();